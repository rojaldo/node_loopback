<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>APIs Rest</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>APIs Rest</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_1_introducción_a_las_apis_rest">1. Introducción a las APIs Rest</a>
<ul class="sectlevel2">
<li><a href="#_qué_es_una_api_rest">¿Qué es una API Rest?</a></li>
<li><a href="#_principios_y_arquitectura_rest">Principios y arquitectura REST</a></li>
<li><a href="#_ventajas_y_desventajas_de_utilizar_apis_rest">Ventajas y desventajas de utilizar APIs Rest</a></li>
</ul>
</li>
<li><a href="#_2_http_y_el_protocolo_rest">2. HTTP y el Protocolo REST</a>
<ul class="sectlevel2">
<li><a href="#_métodos_http">Métodos HTTP</a></li>
<li><a href="#_códigos_de_estado_http">Códigos de estado HTTP</a></li>
<li><a href="#_headers_y_cuerpo_de_la_petición">Headers y cuerpo de la petición</a></li>
</ul>
</li>
<li><a href="#_3_diseño_de_apis_rest">3. Diseño de APIs Rest</a>
<ul class="sectlevel2">
<li><a href="#_recursos_y_endpoints">Recursos y Endpoints</a></li>
<li><a href="#_versionado_de_la_api">Versionado de la API</a></li>
<li><a href="#_hateoas_y_enlace_de_recursos">HATEOAS y Enlace de Recursos</a></li>
<li><a href="#_seguridad_autenticación_y_autorización">Seguridad: Autenticación y Autorización</a></li>
</ul>
</li>
<li><a href="#_4_implementación_de_una_api_rest">4. Implementación de una API Rest</a>
<ul class="sectlevel2">
<li><a href="#_herramientas_y_frameworks_para_implementación_en_node_js">Herramientas y frameworks para implementación en Node.js</a></li>
<li><a href="#_arquitectura_basada_en_controladores_y_rutas">Arquitectura basada en controladores y rutas</a></li>
<li><a href="#_conexión_a_bases_de_datos_y_modelos_de_datos">Conexión a bases de datos y modelos de datos</a></li>
</ul>
</li>
<li><a href="#_5_documentación_de_apis">5. Documentación de APIs</a>
<ul class="sectlevel2">
<li><a href="#_uso_de_swaggeropenapi_estructura_yaml">Uso de Swagger/OpenAPI (Estructura YAML)</a></li>
<li><a href="#_generación_de_documentación_automática">Generación de documentación automática</a></li>
<li><a href="#_buenas_prácticas_en_la_documentación">Buenas prácticas en la documentación</a></li>
</ul>
</li>
<li><a href="#_6_pruebas_y_validación">6. Pruebas y Validación</a>
<ul class="sectlevel2">
<li><a href="#_pruebas_unitarias_y_de_integración">Pruebas unitarias y de integración</a></li>
<li><a href="#_herramientas_para_testear_apis_postman_insomnia">Herramientas para testear APIs (Postman, Insomnia)</a></li>
<li><a href="#_validación_de_datos_y_manejo_de_errores">Validación de datos y manejo de errores</a></li>
</ul>
</li>
<li><a href="#_7_despliegue_y_escalabilidad">7. Despliegue y Escalabilidad</a>
<ul class="sectlevel2">
<li><a href="#_estrategias_de_despliegue">Estrategias de despliegue</a></li>
<li><a href="#_monitoreo_y_logging">Monitoreo y logging</a></li>
<li><a href="#_escalabilidad_y_balanceo_de_carga">Escalabilidad y balanceo de carga</a></li>
</ul>
</li>
<li><a href="#_material_complementario">Material Complementario</a></li>
<li><a href="#_evaluación_y_certificación">Evaluación y Certificación</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_1_introducción_a_las_apis_rest">1. Introducción a las APIs Rest</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_qué_es_una_api_rest">¿Qué es una API Rest?</h3>
<div class="paragraph">
<p>Una API Rest (Representational State Transfer) es un conjunto de convenciones y protocolos que permite la comunicación entre sistemas a través de peticiones HTTP. Las APIs Rest se basan en el intercambio de recursos identificados por URL y utilizan métodos estandarizados (GET, POST, PUT, DELETE, etc.) para operar sobre ellos. Esto facilita la interoperabilidad entre diferentes plataformas y lenguajes de programación.</p>
</div>
</div>
<div class="sect2">
<h3 id="_principios_y_arquitectura_rest">Principios y arquitectura REST</h3>
<div class="paragraph">
<p>La arquitectura REST se funda en varios principios clave:
* <strong>Cliente-Servidor:</strong> Separa la interfaz de usuario (cliente) de la lógica de la aplicación (servidor), permitiendo una evolución independiente de ambos.
* <strong>Sin estado (Stateless):</strong> Cada petición del cliente debe contener la información necesaria para que el servidor la procese. El servidor no almacena estado entre peticiones.
* <strong>Cacheable:</strong> Las respuestas deben ser definidas como cacheables o no, permitiendo mejorar el rendimiento y reducir la carga en el servidor.
* <strong>Interfaz uniforme:</strong> Se utiliza un conjunto estandarizado de operaciones (mediante métodos HTTP) que simplifica la interacción entre cliente y servidor.
* <strong>Sistema en capas:</strong> La arquitectura puede estar organizada en capas, permitiendo la implementación de intermediarios como proxies y balanceadores de carga para mejorar la escalabilidad y seguridad.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ventajas_y_desventajas_de_utilizar_apis_rest">Ventajas y desventajas de utilizar APIs Rest</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Ventajas:</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Simplicidad:</strong> Utiliza los métodos y estándares del protocolo HTTP, lo que facilita su implementación y comprensión.</p>
</li>
<li>
<p><strong>Escalabilidad:</strong> La naturaleza sin estado de las peticiones permite distribuir la carga de manera eficiente.</p>
</li>
<li>
<p><strong>Flexibilidad:</strong> Permite la interacción entre diversos sistemas y lenguajes sin requerir formatos complejos.</p>
</li>
<li>
<p><strong>Amplio soporte:</strong> Está integrado y soportado por numerosas herramientas, frameworks y bibliotecas en la comunidad de desarrollo.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Desventajas:</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Limitaciones de HTTP:</strong> Se depende de las restricciones y características inherentes al protocolo HTTP, lo que puede introducir limitaciones en ciertos escenarios.</p>
</li>
<li>
<p><strong>Seguridad:</strong> Si bien se pueden aplicar mecanismos de autenticación y autorización, la exposición de endpoints requiere un cuidado especial para evitar vulnerabilidades.</p>
</li>
<li>
<p><strong>Operaciones complejas:</strong> Para transacciones o acciones que requieran mantener un estado complejo, puede no ser la mejor solución comparado con otros enfoques como GraphQL o RPC.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_http_y_el_protocolo_rest">2. HTTP y el Protocolo REST</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_métodos_http">Métodos HTTP</h3>
<div class="paragraph">
<p>HTTP define varios métodos para interactuar con los recursos del servidor:
* <strong>GET:</strong> Recupera información de un recurso sin modificarlo.
* <strong>POST:</strong> Envía datos al servidor para crear un nuevo recurso.
* <strong>PUT:</strong> Reemplaza completamente un recurso existente con los datos enviados.
* <strong>DELETE:</strong> Elimina un recurso específico.
* <strong>PATCH:</strong> Actualiza parcialmente un recurso con los cambios proporcionados.
* <strong>OPTIONS:</strong> Solicita información sobre las opciones de comunicación que soporta el recurso.
* <strong>HEAD:</strong> Similar a GET, pero solo recupera los headers de la respuesta, sin el cuerpo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_códigos_de_estado_http">Códigos de estado HTTP</h3>
<div class="paragraph">
<p>Los códigos de estado son números que indican el resultado de una petición:
* <strong>2xx (Éxito):</strong> La petición se realizó correctamente.
  - <strong>200 OK:</strong> Respuesta exitosa.
  - <strong>201 Created:</strong> Recurso creado satisfactoriamente.
* <strong>3xx (Redirección):</strong> Se requiere acción adicional para completar la petición.
  - <strong>301 Moved Permanently:</strong> El recurso se ha movido de forma permanente a otra URL.
  - <strong>302 Found:</strong> El recurso se encuentra temporalmente en otra URL.
* <strong>4xx (Errores del cliente):</strong> La petición contiene errores o está mal formulada.
  - <strong>400 Bad Request:</strong> La petición es inválida o malformada.
  - <strong>401 Unauthorized:</strong> Se requiere autenticación.
  - <strong>404 Not Found:</strong> El recurso solicitado no existe.
* <strong>5xx (Errores del servidor):</strong> Problemas internos que impiden cumplir la petición.
  - <strong>500 Internal Server Error:</strong> Error en el servidor al procesar la petición.
  - <strong>503 Service Unavailable:</strong> El servidor no está disponible para atender la petición.</p>
</div>
</div>
<div class="sect2">
<h3 id="_headers_y_cuerpo_de_la_petición">Headers y cuerpo de la petición</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Headers:</strong> Son campos de metadatos que acompañan cada petición y respuesta HTTP.
Ejemplos:</p>
<div class="ulist">
<ul>
<li>
<p><code>Content-Type</code>: Indica el formato del contenido (por ejemplo, application/json).</p>
</li>
<li>
<p><code>Authorization</code>: Se utiliza para enviar credenciales de autenticación.
Estos encabezados ayudan a definir la naturaleza de la información intercambiada y a manejar la seguridad, la cacheabilidad y otros aspectos de la comunicación.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Cuerpo de la petición:</strong> Es la parte de la petición HTTP que contiene los datos enviados al servidor.</p>
<div class="ulist">
<ul>
<li>
<p>En las peticiones POST, PUT y PATCH se utiliza para transportar la información que se quiere crear o actualizar.</p>
</li>
<li>
<p>El formato del cuerpo varía según la aplicación, siendo JSON, XML o formularios URL-encoded los formatos más comunes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_diseño_de_apis_rest">3. Diseño de APIs Rest</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_recursos_y_endpoints">Recursos y Endpoints</h3>
<div class="paragraph">
<p>Los recursos representan entidades o colecciones de datos que se exponen a través de la API. Cada recurso debe tener un identificador único definido en la URL, y los endpoints deben seguir convenciones claras, por ejemplo:
* Utilizar sustantivos en plural para representar colecciones (por ejemplo, "/usuarios").
* Emplear rutas anidadas para establecer relaciones (por ejemplo, "/usuarios/{id}/posts").
* Mantener consistencia en la nomenclatura y estructura de las rutas para facilitar la comprensión y mantenimiento.</p>
</div>
</div>
<div class="sect2">
<h3 id="_versionado_de_la_api">Versionado de la API</h3>
<div class="paragraph">
<p>El versionado es esencial para permitir la evolución de la API sin romper el contrato con los clientes. Algunas estrategias comunes de versionado son:
* Incluir la versión en la URL (por ejemplo, "/v1/usuarios").
* Utilizar headers para especificar la versión, mediante valores en el header "Accept" (por ejemplo, "Accept: application/vnd.miapi.v1+json").
Un manejo adecuado del versionado permite introducir mejoras y cambios incrementales sin afectar a los consumidores existentes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hateoas_y_enlace_de_recursos">HATEOAS y Enlace de Recursos</h3>
<div class="paragraph">
<p>HATEOAS (Hypermedia As The Engine Of Application State) es un principio REST que agrega hipermedios a las respuestas de la API. Esto permite a los clientes descubrir y navegar por la API dinámicamente. Por ejemplo:
* Incluir enlaces (links) en las respuestas que dirijan a otras acciones o recursos relacionados.
* Facilitar que los clientes realicen transiciones de estado sin conocer previamente toda la estructura de la API.
Esta práctica mejora la auto-descubribilidad de la API y simplifica su uso e integración.</p>
</div>
</div>
<div class="sect2">
<h3 id="_seguridad_autenticación_y_autorización">Seguridad: Autenticación y Autorización</h3>
<div class="paragraph">
<p>La seguridad en una API es crucial para proteger los datos y controlar el acceso. Los aspectos principales incluyen:
* <strong>Autenticación:</strong> Verificar la identidad de los clientes que interactúan con la API. Se pueden utilizar métodos como tokens JWT, OAuth, o claves de API.
* <strong>Autorización:</strong> Determinar qué recursos o acciones están permitidos para un usuario autenticado, implementando roles y permisos.
Además, es fundamental proteger las comunicaciones utilizando SSL/TLS, gestionar de forma segura las credenciales y monitorizar los accesos para prevenir accesos no autorizados.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_implementación_de_una_api_rest">4. Implementación de una API Rest</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_herramientas_y_frameworks_para_implementación_en_node_js">Herramientas y frameworks para implementación en Node.js</h3>
<div class="paragraph">
<p>Para desarrollar una API Rest con Node.js se pueden utilizar diversas herramientas y frameworks que facilitan la creación de servidores robustos y escalables. Entre los más populares se encuentran:
* <strong>Express:</strong> Framework minimalista y flexible, ideal para el desarrollo rápido de APIs.
* <strong>Koa:</strong> Ofrece un enfoque moderno basado en async/await, facilitando la gestión de errores.
* <strong>Hapi:</strong> Proporciona un conjunto completo de funcionalidades listas para usarse en aplicaciones complejas.
* <strong>NestJS:</strong> Framework progresivo que utiliza TypeScript y que sigue un patrón modular basado en controladores e inyección de dependencias.</p>
</div>
</div>
<div class="sect2">
<h3 id="_arquitectura_basada_en_controladores_y_rutas">Arquitectura basada en controladores y rutas</h3>
<div class="paragraph">
<p>Una arquitectura organizada en controladores y rutas permite separar la lógica de negocio de la gestión de las peticiones HTTP, lo cual favorece:
* <strong>Mantenibilidad:</strong> Organización del código en módulos y controladores claros.
* <strong>Escalabilidad:</strong> Facilidad para agregar nuevas rutas y funcionalidades sin impactar el sistema global.
* <strong>Reusabilidad:</strong> Controladores que encapsulan la lógica reutilizable para diferentes endpoints.
Un ejemplo común es definir un archivo de rutas que delegue cada acción al controlador correspondiente, asegurando una clara separación de responsabilidades.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conexión_a_bases_de_datos_y_modelos_de_datos">Conexión a bases de datos y modelos de datos</h3>
<div class="paragraph">
<p>La persistencia de datos es esencial en el desarrollo de una API. Para ello, se pueden emplear:
* <strong>ORMs/ODMs:</strong> Herramientas como Sequelize o TypeORM para bases de datos relacionales, y Mongoose para MongoDB, que facilitan el mapeo entre los modelos de datos y la base de datos.
* <strong>Definición de modelos:</strong> Es vital establecer esquemas que representen los recursos de la API, asegurando la validación y consistencia de la información.
* <strong>Gestión de conexiones:</strong> Configurar la conexión a la base de datos con técnicas de manejo de errores y reconexión automática, lo cual es crucial para la estabilidad y escalabilidad del servicio.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_documentación_de_apis">5. Documentación de APIs</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_uso_de_swaggeropenapi_estructura_yaml">Uso de Swagger/OpenAPI (Estructura YAML)</h3>
<div class="paragraph">
<p>La especificación OpenAPI utiliza archivos YAML para describir la API de manera estructurada. A continuación se detalla la estructura básica, las secciones principales, los tipos de datos y algunas herramientas útiles.</p>
</div>
<div class="sect3">
<h4 id="_ejemplo_de_archivo_yaml_openapi">Ejemplo de archivo YAML OpenAPI</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">openapi: "3.0.1"           # Versión de la especificación OpenAPI
info:
  title: "Nombre de la API"
  version: "1.0.0"         # Versión de la API
  description: "Descripción detallada de la API."
servers:
  - url: "https://api.ejemplo.com/v1"   # URL base del servidor
paths:
  /usuarios:
    get:
      summary: "Obtener lista de usuarios"
      parameters:
        - in: query
          name: page
          schema:
            type: integer
          description: "Número de página para la paginación"
      responses:
        '200':
          description: "Operación exitosa"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Usuario"
components:
  schemas:
    Usuario:
      type: object
      properties:
        id:
          type: integer
        nombre:
          type: string
        email:
          type: string
      required:
        - id
        - nombre
        - email</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_secciones_principales">Secciones principales</h4>
<div class="ulist">
<ul>
<li>
<p><strong>openapi:</strong>
Define la versión de la especificación OpenAPI utilizada.</p>
</li>
<li>
<p><strong>info:</strong>
Contiene metadatos sobre la API, incluyendo título, versión y una descripción.</p>
</li>
<li>
<p><strong>servers:</strong>
Lista las URL base de los servidores donde se encuentra la API. Se pueden definir entornos de producción, desarrollo, etc.</p>
</li>
<li>
<p><strong>paths:</strong>
Enumera los endpoints de la API, junto con las operaciones HTTP disponibles en cada uno (GET, POST, PUT, DELETE, etc.).
Cada operación puede incluir:</p>
<div class="ulist">
<ul>
<li>
<p>Un resumen y descripción.</p>
</li>
<li>
<p>Parámetros de entrada (query, path, headers o cookies).</p>
</li>
<li>
<p>Las respuestas esperadas, con especificación de códigos HTTP y esquemas de datos (definidos en components).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>components:</strong>
Permite definir elementos reutilizables como:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Schemas:</strong> Modelos de datos que se usan en peticiones y respuestas.</p>
</li>
<li>
<p><strong>Responses:</strong> Respuestas comunes.</p>
</li>
<li>
<p><strong>Parameters:</strong> Parámetros reutilizables.</p>
</li>
<li>
<p><strong>Security Schemes:</strong> Mecanismos de seguridad aplicables a la API.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_tipos_de_datos_en_openapi">Tipos de datos en OpenAPI</h4>
<div class="paragraph">
<p>Dentro de los esquemas, OpenAPI soporta los siguientes tipos de datos básicos:
* <strong>string</strong>
* <strong>number</strong>
* <strong>integer</strong>
* <strong>boolean</strong>
* <strong>array</strong>
* <strong>object</strong></p>
</div>
<div class="paragraph">
<p>Estos tipos se pueden combinar y definir mediante propiedades (properties) y arreglos (items) para representar estructuras complejas.</p>
</div>
</div>
<div class="sect3">
<h4 id="_herramientas_para_trabajar_con_openapi">Herramientas para trabajar con OpenAPI</h4>
<div class="paragraph">
<p>Existen diversas herramientas que facilitan la creación, visualización y validación de documentos OpenAPI:
* <strong>Swagger Editor:</strong> Permite crear y editar especificaciones OpenAPI en tiempo real, con validación y previsualización.
* <strong>Swagger UI:</strong> Genera documentación interactiva a partir del archivo YAML, permitiendo probar los endpoints.
* <strong>Redoc:</strong> Ofrece otra alternativa para generar documentación elegante y fácil de navegar a partir de especificaciones OpenAPI.
* <strong>OpenAPI Generator:</strong> Herramienta para generar automáticamente clientes, servidores y documentación en múltiples lenguajes a partir de un archivo OpenAPI.
* <strong>Postman:</strong> Soporta la importación de especificaciones OpenAPI para crear colecciones de peticiones y facilitar las pruebas.</p>
</div>
<div class="paragraph">
<p>Esta estructura estandarizada permite a desarrolladores y equipos mantener una documentación clara, actualizada y colaborativa, mejorando el ciclo de vida del desarrollo de APIs.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_generación_de_documentación_automática">Generación de documentación automática</h3>
<div class="paragraph">
<p>La documentación automática se integra en el flujo de desarrollo a través de:
* Herramientas que extraen comentarios y anotaciones directamente del código (por ejemplo, JSDoc o APIDoc).
* Generadores como Swagger Editor que actualizan la documentación a partir de cambios en la especificación.
* Pipelines de CI/CD que aseguran que la documentación se mantenga sincronizada con la implementación.</p>
</div>
</div>
<div class="sect2">
<h3 id="_buenas_prácticas_en_la_documentación">Buenas prácticas en la documentación</h3>
<div class="paragraph">
<p>Para ofrecer una documentación clara y útil se recomienda:
* Mantener la documentación actualizada junto con los cambios en la API.
* Incluir ejemplos prácticos de peticiones y respuestas.
* Detallar los parámetros, códigos de error y casos de uso para cada endpoint.
* Utilizar un formato estandarizado (como OpenAPI) para garantizar la interoperabilidad y facilitar la colaboración.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_6_pruebas_y_validación">6. Pruebas y Validación</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pruebas_unitarias_y_de_integración">Pruebas unitarias y de integración</h3>
<div class="paragraph">
<p>Las pruebas son fundamentales para asegurar la calidad y estabilidad de una API.
* <strong>Pruebas unitarias:</strong> Verifican el funcionamiento correcto de funciones y módulos de forma aislada.
* <strong>Pruebas de integración:</strong> Evalúan la interacción entre componentes y la comunicación con servicios externos, garantizando que la API funcione correctamente en conjunto.</p>
</div>
</div>
<div class="sect2">
<h3 id="_herramientas_para_testear_apis_postman_insomnia">Herramientas para testear APIs (Postman, Insomnia)</h3>
<div class="paragraph">
<p>Existen diversas herramientas que facilitan la ejecución y el análisis de peticiones:
* <strong>Postman:</strong> Permite crear colecciones de peticiones, automatizar pruebas y generar documentación interactiva.
* <strong>Insomnia:</strong> Ofrece una interfaz intuitiva para diseñar y probar peticiones HTTP, ideal para depuración y validación rápida.
Estas herramientas ayudan a simular escenarios reales de uso y a detectar errores antes del despliegue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_validación_de_datos_y_manejo_de_errores">Validación de datos y manejo de errores</h3>
<div class="paragraph">
<p>Una correcta validación y gestión de errores mejoran la robustez de la API:
* <strong>Validación de datos:</strong> Implementar mecanismos para verificar y sanear la información recibida en las peticiones. Librerías como Joi o express-validator son comunes para esta tarea.
* <strong>Manejo de errores:</strong> Establecer respuestas de error claras y consistentes, utilizando códigos HTTP adecuados (por ejemplo, 400 para solicitudes malformadas o 500 para errores internos). Además, es importante registrar los errores para facilitar su diagnóstico y resolución.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_despliegue_y_escalabilidad">7. Despliegue y Escalabilidad</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Estrategias de despliegue</p>
</li>
<li>
<p>Monitoreo y logging</p>
</li>
<li>
<p>Escalabilidad y balanceo de carga</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_estrategias_de_despliegue">Estrategias de despliegue</h3>
<div class="paragraph">
<p>Existen diversas estrategias para desplegar una API Rest en producción, entre las que destacan:
- <strong>PM2:</strong> Un administrador de procesos que permite reiniciar la aplicación automáticamente, gestionar logs y aprovechar múltiples núcleos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pm2 start app.js --name "mi-api"
pm2 save</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Contenedores Docker:</strong> Facilitan la creación de ambientes consistentes y escalables.</p>
</li>
<li>
<p><strong>Infraestructura en la nube:</strong> Plataformas como AWS, Azure o Google Cloud ofrecen herramientas para desplegar y escalar aplicaciones de forma automática.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_monitoreo_y_logging">Monitoreo y logging</h3>
<div class="paragraph">
<p>El monitoreo y el registro son esenciales para diagnosticar problemas y optimizar el rendimiento:
- <strong>Monitoreo:</strong> Se pueden utilizar herramientas como New Relic, Prometheus o el módulo de monitoreo de PM2 para observar la salud de la API.
- <strong>Logging:</strong> Implementa frameworks como Winston o Morgan para registrar solicitudes, eventos y errores.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">const winston = require('winston');
const logger = winston.createLogger({
  level: 'info',
  transports: [
    new winston.transports.Console(),
    new winston.transports.File({ filename: 'api.log' })
  ],
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta configuración permite registrar logs en consola y en archivos, facilitando la detección y análisis de incidencias.</p>
</div>
</div>
<div class="sect2">
<h3 id="_escalabilidad_y_balanceo_de_carga">Escalabilidad y balanceo de carga</h3>
<div class="paragraph">
<p>Para manejar altos volúmenes de tráfico y garantizar una alta disponibilidad, se pueden aplicar las siguientes técnicas:
<strong>Clustering:</strong> Usa el módulo <code>cluster</code> de Node.js para aprovechar todos los núcleos del procesador.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">const cluster = require('cluster');
const os = require('os');

if (cluster.isMaster) {
  const cpuCount = os.cpus().length;
  for (let i = 0; i &lt; cpuCount; i++) {
    cluster.fork();
  }

  cluster.on('exit', (worker) =&gt; {
    console.log(`Worker ${worker.process.pid} finalizado. Reiniciando...`);
    cluster.fork();
  });
} else {
  // Inicia la aplicación en cada worker
  require('./app');
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Balanceo de carga:</strong> Configura balanceadores de carga como Nginx o HAProxy para distribuir las solicitudes entre múltiples instancias de la API.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-nginx hljs" data-lang="nginx"># Ejemplo básico de configuración de Nginx
upstream mi_api {
  server 127.0.0.1:3000;
  server 127.0.0.1:3001;
}

server {
  listen 80;

  location / {
    proxy_pass http://mi_api;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Estas prácticas aseguran que la API se mantenga estable y responda eficientemente bajo cargas elevadas.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_material_complementario">Material Complementario</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Enlaces a recursos y documentación adicional</p>
</li>
<li>
<p>Repositorios de ejemplos y ejercicios</p>
</li>
<li>
<p>Foros y comunidades de desarrolladores</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_evaluación_y_certificación">Evaluación y Certificación</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Criterios de evaluación</p>
</li>
<li>
<p>Exámenes teóricos y prácticos</p>
</li>
<li>
<p>Certificación de participación y competencias adquiridas</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-04-01 21:42:53 +0200
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>